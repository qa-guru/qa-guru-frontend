query commentsHomeWorkByHomeWork(
  $offset: Int!
  $limit: Int!
  $sort: CommentHomeWorkSort!
  $homeWorkId: ID!
) {
  commentsHomeWorkByHomeWork(
    offset: $offset
    limit: $limit
    sort: $sort
    homeWorkId: $homeWorkId
  ) {
    items {
      id
      creator {
        id
        firstName
        middleName
        avatar
        lastName
        rating {
          rating
        }
      }
      creationDate
      content
      homeWork {
        id
      }
      children {
        ...subCommentHomeWorkDto
        ...subCommentHomeWorkDtoRecursive
      }
    }
    offset
    limit
    totalElements
  }
}

fragment subCommentHomeWorkDtoRecursive on CommentHomeWorkDto {
  children {
    ...subCommentHomeWorkDto
    children {
      ...subCommentHomeWorkDto
      children {
        ...subCommentHomeWorkDto
        children {
          ...subCommentHomeWorkDto
          children {
            ...subCommentHomeWorkDto
          }
        }
      }
    }
  }
}

fragment subCommentHomeWorkDto on CommentHomeWorkDto {
  id
  creator {
    id
    email
    firstName
    avatar
    lastName
    middleName
    locked
    rating {
      rating
    }
  }
  content
}
